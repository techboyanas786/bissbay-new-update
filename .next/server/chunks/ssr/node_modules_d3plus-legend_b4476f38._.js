module.exports = [
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/extent.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>extent
]);
function extent(values, valueof) {
    let min;
    let max;
    if (valueof === undefined) {
        for (const value of values){
            if (value != null) {
                if (min === undefined) {
                    if (value >= value) min = max = value;
                } else {
                    if (min > value) min = value;
                    if (max < value) max = value;
                }
            }
        }
    } else {
        let index = -1;
        for (let value of values){
            if ((value = valueof(value, ++index, values)) != null) {
                if (min === undefined) {
                    if (value >= value) min = max = value;
                } else {
                    if (min > value) min = value;
                    if (max < value) max = value;
                }
            }
        }
    }
    return [
        min,
        max
    ];
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/extent.js [app-ssr] (ecmascript) <export default as extent>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "extent",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$extent$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$extent$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/extent.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/max.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>max
]);
function max(values, valueof) {
    let max;
    if (valueof === undefined) {
        for (const value of values){
            if (value != null && (max < value || max === undefined && value >= value)) {
                max = value;
            }
        }
    } else {
        let index = -1;
        for (let value of values){
            if ((value = valueof(value, ++index, values)) != null && (max < value || max === undefined && value >= value)) {
                max = value;
            }
        }
    }
    return max;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/max.js [app-ssr] (ecmascript) <export default as max>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "max",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/max.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/min.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>min
]);
function min(values, valueof) {
    let min;
    if (valueof === undefined) {
        for (const value of values){
            if (value != null && (min > value || min === undefined && value >= value)) {
                min = value;
            }
        }
    } else {
        let index = -1;
        for (let value of values){
            if ((value = valueof(value, ++index, values)) != null && (min > value || min === undefined && value >= value)) {
                min = value;
            }
        }
    }
    return min;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/min.js [app-ssr] (ecmascript) <export default as min>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "min",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/min.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/maxIndex.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>maxIndex
]);
function maxIndex(values, valueof) {
    let max;
    let maxIndex = -1;
    let index = -1;
    if (valueof === undefined) {
        for (const value of values){
            ++index;
            if (value != null && (max < value || max === undefined && value >= value)) {
                max = value, maxIndex = index;
            }
        }
    } else {
        for (let value of values){
            if ((value = valueof(value, ++index, values)) != null && (max < value || max === undefined && value >= value)) {
                max = value, maxIndex = index;
            }
        }
    }
    return maxIndex;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/minIndex.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>minIndex
]);
function minIndex(values, valueof) {
    let min;
    let minIndex = -1;
    let index = -1;
    if (valueof === undefined) {
        for (const value of values){
            ++index;
            if (value != null && (min > value || min === undefined && value >= value)) {
                min = value, minIndex = index;
            }
        }
    } else {
        for (let value of values){
            if ((value = valueof(value, ++index, values)) != null && (min > value || min === undefined && value >= value)) {
                min = value, minIndex = index;
            }
        }
    }
    return minIndex;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/ascending.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>ascending
]);
function ascending(a, b) {
    return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/permute.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>permute
]);
function permute(source, keys) {
    return Array.from(keys, (key)=>source[key]);
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/sort.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ascendingDefined",
    ()=>ascendingDefined,
    "compareDefined",
    ()=>compareDefined,
    "default",
    ()=>sort
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$ascending$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/ascending.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$permute$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/permute.js [app-ssr] (ecmascript)");
;
;
function sort(values, ...F) {
    if (typeof values[Symbol.iterator] !== "function") throw new TypeError("values is not iterable");
    values = Array.from(values);
    let [f] = F;
    if (f && f.length !== 2 || F.length > 1) {
        const index = Uint32Array.from(values, (d, i)=>i);
        if (F.length > 1) {
            F = F.map((f)=>values.map(f));
            index.sort((i, j)=>{
                for (const f of F){
                    const c = ascendingDefined(f[i], f[j]);
                    if (c) return c;
                }
            });
        } else {
            f = values.map(f);
            index.sort((i, j)=>ascendingDefined(f[i], f[j]));
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$permute$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(values, index);
    }
    return values.sort(compareDefined(f));
}
function compareDefined(compare = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$ascending$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]) {
    if (compare === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$ascending$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]) return ascendingDefined;
    if (typeof compare !== "function") throw new TypeError("compare is not a function");
    return (a, b)=>{
        const x = compare(a, b);
        if (x || x === 0) return x;
        return (compare(b, b) === 0) - (compare(a, a) === 0);
    };
}
function ascendingDefined(a, b) {
    return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/quickselect.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>quickselect
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sort$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/sort.js [app-ssr] (ecmascript)");
;
function quickselect(array, k, left = 0, right = Infinity, compare) {
    k = Math.floor(k);
    left = Math.floor(Math.max(0, left));
    right = Math.floor(Math.min(array.length - 1, right));
    if (!(left <= k && k <= right)) return array;
    compare = compare === undefined ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sort$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ascendingDefined"] : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sort$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compareDefined"])(compare);
    while(right > left){
        if (right - left > 600) {
            const n = right - left + 1;
            const m = k - left + 1;
            const z = Math.log(n);
            const s = 0.5 * Math.exp(2 * z / 3);
            const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);
            const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));
            const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));
            quickselect(array, k, newLeft, newRight, compare);
        }
        const t = array[k];
        let i = left;
        let j = right;
        swap(array, left, k);
        if (compare(array[right], t) > 0) swap(array, left, right);
        while(i < j){
            swap(array, i, j), ++i, --j;
            while(compare(array[i], t) < 0)++i;
            while(compare(array[j], t) > 0)--j;
        }
        if (compare(array[left], t) === 0) swap(array, left, j);
        else ++j, swap(array, j, right);
        if (j <= k) left = j + 1;
        if (k <= j) right = j - 1;
    }
    return array;
}
function swap(array, i, j) {
    const t = array[i];
    array[i] = array[j];
    array[j] = t;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/number.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>number,
    "numbers",
    ()=>numbers
]);
function number(x) {
    return x === null ? NaN : +x;
}
function* numbers(values, valueof) {
    if (valueof === undefined) {
        for (let value of values){
            if (value != null && (value = +value) >= value) {
                yield value;
            }
        }
    } else {
        let index = -1;
        for (let value of values){
            if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {
                yield value;
            }
        }
    }
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/greatest.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>greatest
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$ascending$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/ascending.js [app-ssr] (ecmascript)");
;
function greatest(values, compare = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$ascending$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]) {
    let max;
    let defined = false;
    if (compare.length === 1) {
        let maxValue;
        for (const element of values){
            const value = compare(element);
            if (defined ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$ascending$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(value, maxValue) > 0 : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$ascending$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(value, value) === 0) {
                max = element;
                maxValue = value;
                defined = true;
            }
        }
    } else {
        for (const value of values){
            if (defined ? compare(value, max) > 0 : compare(value, value) === 0) {
                max = value;
                defined = true;
            }
        }
    }
    return max;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/quantile.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>quantile,
    "quantileIndex",
    ()=>quantileIndex,
    "quantileSorted",
    ()=>quantileSorted
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/max.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$maxIndex$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/maxIndex.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/min.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$minIndex$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/minIndex.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$quickselect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/quickselect.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/number.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sort$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/sort.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$greatest$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/greatest.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
function quantile(values, p, valueof) {
    values = Float64Array.from((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["numbers"])(values, valueof));
    if (!(n = values.length) || isNaN(p = +p)) return;
    if (p <= 0 || n < 2) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(values);
    if (p >= 1) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(values);
    var n, i = (n - 1) * p, i0 = Math.floor(i), value0 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$quickselect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(values, i0).subarray(0, i0 + 1)), value1 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(values.subarray(i0 + 1));
    return value0 + (value1 - value0) * (i - i0);
}
function quantileSorted(values, p, valueof = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]) {
    if (!(n = values.length) || isNaN(p = +p)) return;
    if (p <= 0 || n < 2) return +valueof(values[0], 0, values);
    if (p >= 1) return +valueof(values[n - 1], n - 1, values);
    var n, i = (n - 1) * p, i0 = Math.floor(i), value0 = +valueof(values[i0], i0, values), value1 = +valueof(values[i0 + 1], i0 + 1, values);
    return value0 + (value1 - value0) * (i - i0);
}
function quantileIndex(values, p, valueof = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]) {
    if (isNaN(p = +p)) return;
    numbers = Float64Array.from(values, (_, i)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$number$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(valueof(values[i], i, values)));
    if (p <= 0) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$minIndex$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(numbers);
    if (p >= 1) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$maxIndex$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(numbers);
    var numbers, index = Uint32Array.from(values, (_, i)=>i), j = numbers.length - 1, i = Math.floor(j * p);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$quickselect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(index, i, 0, j, (i, j)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sort$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ascendingDefined"])(numbers[i], numbers[j]));
    i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$greatest$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(index.subarray(0, i + 1), (i)=>numbers[i]);
    return i >= 0 ? i : -1;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/quantile.js [app-ssr] (ecmascript) <export default as quantile>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "quantile",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$quantile$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$quantile$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/quantile.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/range.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>range
]);
function range(start, stop, step) {
    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;
    var i = -1, n = Math.max(0, Math.ceil((stop - start) / step)) | 0, range = new Array(n);
    while(++i < n){
        range[i] = start + i * step;
    }
    return range;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/range.js [app-ssr] (ecmascript) <export default as range>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "range",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/range.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/variance.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>variance
]);
function variance(values, valueof) {
    let count = 0;
    let delta;
    let mean = 0;
    let sum = 0;
    if (valueof === undefined) {
        for (let value of values){
            if (value != null && (value = +value) >= value) {
                delta = value - mean;
                mean += delta / ++count;
                sum += delta * (value - mean);
            }
        }
    } else {
        let index = -1;
        for (let value of values){
            if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {
                delta = value - mean;
                mean += delta / ++count;
                sum += delta * (value - mean);
            }
        }
    }
    if (count > 1) return sum / (count - 1);
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/deviation.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>deviation
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$variance$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/variance.js [app-ssr] (ecmascript)");
;
function deviation(values, valueof) {
    const v = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$variance$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(values, valueof);
    return v ? Math.sqrt(v) : v;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/deviation.js [app-ssr] (ecmascript) <export default as deviation>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "deviation",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$deviation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$deviation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/deviation.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/sum.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>sum
]);
function sum(values, valueof) {
    let sum = 0;
    if (valueof === undefined) {
        for (let value of values){
            if (value = +value) {
                sum += value;
            }
        }
    } else {
        let index = -1;
        for (let value of values){
            if (value = +valueof(value, ++index, values)) {
                sum += value;
            }
        }
    }
    return sum;
}
}),
"[project]/node_modules/d3plus-legend/node_modules/d3-array/src/sum.js [app-ssr] (ecmascript) <export default as sum>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "sum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sum$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sum$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/sum.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/d3plus-legend/es/src/ckmeans.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
    @desc Sort an array of numbers by their numeric value, ensuring that the array is not changed in place.

This is necessary because the default behavior of .sort in JavaScript is to sort arrays as string values

[1, 10, 12, 102, 20].sort()
// output
[1, 10, 102, 12, 20]

    @param {Array<number>} array input array
    @return {Array<number>} sorted array
    @private
    @example
numericSort([3, 2, 1]) // => [1, 2, 3]
*/ __turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
function numericSort(array) {
    return array.slice().sort(function(a, b) {
        return a - b;
    });
}
/**
    For a sorted input, counting the number of unique values is possible in constant time and constant memory. This is a simple implementation of the algorithm.

    Values are compared with `===`, so objects and non-primitive objects are not handled in any special way.
    @private
    @param {Array} input an array of primitive values.
    @returns {number} count of unique values
    @example
uniqueCountSorted([1, 2, 3]); // => 3
uniqueCountSorted([1, 1, 1]); // => 1
*/ function uniqueCountSorted(input) {
    var lastSeenValue, uniqueValueCount = 0;
    for(var i = 0; i < input.length; i++){
        if (i === 0 || input[i] !== lastSeenValue) {
            lastSeenValue = input[i];
            uniqueValueCount++;
        }
    }
    return uniqueValueCount;
}
/**
    Create a new column x row matrix.
    @private
    @param {number} columns
    @param {number} rows
    @return {Array<Array<number>>} matrix
    @example
makeMatrix(10, 10);
*/ function makeMatrix(columns, rows) {
    var matrix = [];
    for(var i = 0; i < columns; i++){
        var column = [];
        for(var j = 0; j < rows; j++)column.push(0);
        matrix.push(column);
    }
    return matrix;
}
/**
    Generates incrementally computed values based on the sums and sums of squares for the data array
    @private
    @param {number} j
    @param {number} i
    @param {Array<number>} sums
    @param {Array<number>} sumsOfSquares
    @return {number}
    @example
ssq(0, 1, [-1, 0, 2], [1, 1, 5]);
*/ function ssq(j, i, sums, sumsOfSquares) {
    var sji; // s(j, i)
    if (j > 0) {
        var muji = (sums[i] - sums[j - 1]) / (i - j + 1); // mu(j, i)
        sji = sumsOfSquares[i] - sumsOfSquares[j - 1] - (i - j + 1) * muji * muji;
    } else sji = sumsOfSquares[i] - sums[i] * sums[i] / (i + 1);
    if (sji < 0) return 0;
    return sji;
}
/**
    Function that recursively divides and conquers computations for cluster j
    @private
    @param {number} iMin Minimum index in cluster to be computed
    @param {number} iMax Maximum index in cluster to be computed
    @param {number} cluster Index of the cluster currently being computed
    @param {Array<Array<number>>} matrix
    @param {Array<Array<number>>} backtrackMatrix
    @param {Array<number>} sums
    @param {Array<number>} sumsOfSquares
*/ function fillMatrixColumn(iMin, iMax, cluster, matrix, backtrackMatrix, sums, sumsOfSquares) {
    if (iMin > iMax) return;
    // Start at midpoint between iMin and iMax
    var i = Math.floor((iMin + iMax) / 2);
    matrix[cluster][i] = matrix[cluster - 1][i - 1];
    backtrackMatrix[cluster][i] = i;
    var jlow = cluster; // the lower end for j
    if (iMin > cluster) jlow = Math.max(jlow, backtrackMatrix[cluster][iMin - 1] || 0);
    jlow = Math.max(jlow, backtrackMatrix[cluster - 1][i] || 0);
    var jhigh = i - 1; // the upper end for j
    if (iMax < matrix.length - 1) jhigh = Math.min(jhigh, backtrackMatrix[cluster][iMax + 1] || 0);
    for(var j = jhigh; j >= jlow; --j){
        var sji = ssq(j, i, sums, sumsOfSquares);
        if (sji + matrix[cluster - 1][jlow - 1] >= matrix[cluster][i]) break;
        // Examine the lower bound of the cluster border
        var sjlowi = ssq(jlow, i, sums, sumsOfSquares);
        var ssqjlow = sjlowi + matrix[cluster - 1][jlow - 1];
        if (ssqjlow < matrix[cluster][i]) {
            // Shrink the lower bound
            matrix[cluster][i] = ssqjlow;
            backtrackMatrix[cluster][i] = jlow;
        }
        jlow++;
        var ssqj = sji + matrix[cluster - 1][j - 1];
        if (ssqj < matrix[cluster][i]) {
            matrix[cluster][i] = ssqj;
            backtrackMatrix[cluster][i] = j;
        }
    }
    fillMatrixColumn(iMin, i - 1, cluster, matrix, backtrackMatrix, sums, sumsOfSquares);
    fillMatrixColumn(i + 1, iMax, cluster, matrix, backtrackMatrix, sums, sumsOfSquares);
}
/**
    Initializes the main matrices used in Ckmeans and kicks off the divide and conquer cluster computation strategy
    @private
    @param {Array<number>} data sorted array of values
    @param {Array<Array<number>>} matrix
    @param {Array<Array<number>>} backtrackMatrix
*/ function fillMatrices(data, matrix, backtrackMatrix) {
    var nValues = matrix[0] ? matrix[0].length : 0;
    // Shift values by the median to improve numeric stability
    var shift = data[Math.floor(nValues / 2)];
    // Cumulative sum and cumulative sum of squares for all values in data array
    var sums = [];
    var sumsOfSquares = [];
    // Initialize first column in matrix & backtrackMatrix
    for(var i = 0, shiftedValue = void 0; i < nValues; ++i){
        shiftedValue = data[i] - shift;
        if (i === 0) {
            sums.push(shiftedValue);
            sumsOfSquares.push(shiftedValue * shiftedValue);
        } else {
            sums.push(sums[i - 1] + shiftedValue);
            sumsOfSquares.push(sumsOfSquares[i - 1] + shiftedValue * shiftedValue);
        }
        // Initialize for cluster = 0
        matrix[0][i] = ssq(0, i, sums, sumsOfSquares);
        backtrackMatrix[0][i] = 0;
    }
    // Initialize the rest of the columns
    for(var cluster = 1; cluster < matrix.length; ++cluster){
        var iMin = nValues - 1;
        if (cluster < matrix.length - 1) iMin = cluster;
        fillMatrixColumn(iMin, nValues - 1, cluster, matrix, backtrackMatrix, sums, sumsOfSquares);
    }
}
function __TURBOPACK__default__export__(data, nClusters) {
    if (nClusters > data.length) {
        throw new Error("Cannot generate more classes than there are data values");
    }
    var sorted = numericSort(data);
    // we'll use this as the maximum number of clusters
    var uniqueCount = uniqueCountSorted(sorted);
    // if all of the input values are identical, there's one cluster with all of the input in it.
    if (uniqueCount === 1) {
        return [
            sorted
        ];
    }
    var backtrackMatrix = makeMatrix(nClusters, sorted.length), matrix = makeMatrix(nClusters, sorted.length);
    // This is a dynamic programming way to solve the problem of minimizing within-cluster sum of squares. It's similar to linear regression in this way, and this calculation incrementally computes the sum of squares that are later read.
    fillMatrices(sorted, matrix, backtrackMatrix);
    // The real work of Ckmeans clustering happens in the matrix generation: the generated matrices encode all possible clustering combinations, and once they're generated we can solve for the best clustering groups very quickly.
    var clusterRight = backtrackMatrix[0] ? backtrackMatrix[0].length - 1 : 0;
    var clusters = [];
    // Backtrack the clusters from the dynamic programming matrix. This starts at the bottom-right corner of the matrix (if the top-left is 0, 0), and moves the cluster target with the loop.
    for(var cluster = backtrackMatrix.length - 1; cluster >= 0; cluster--){
        var clusterLeft = backtrackMatrix[cluster][clusterRight];
        // fill the cluster from the sorted input by taking a slice of the array. the backtrack matrix makes this easy - it stores the indexes where the cluster should start and end.
        clusters[cluster] = sorted.slice(clusterLeft, clusterRight + 1);
        if (cluster > 0) clusterRight = clusterLeft - 1;
    }
    return clusters;
}
}),
"[project]/node_modules/d3plus-legend/es/src/Legend.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>Legend
]);
/**
    @external BaseClass
    @see https://github.com/d3plus/d3plus-common#BaseClass
*/ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/max.js [app-ssr] (ecmascript) <export default as max>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sum$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__sum$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/sum.js [app-ssr] (ecmascript) <export default as sum>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$selection$2f$src$2f$select$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__select$3e$__ = __turbopack_context__.i("[project]/node_modules/d3-selection/src/select.js [app-ssr] (ecmascript) <export default as select>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$accessor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__accessor$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/accessor.js [app-ssr] (ecmascript) <export default as accessor>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/assign.js [app-ssr] (ecmascript) <export default as assign>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$BaseClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__BaseClass$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/BaseClass.js [app-ssr] (ecmascript) <export default as BaseClass>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$configPrep$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__configPrep$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/configPrep.js [app-ssr] (ecmascript) <export default as configPrep>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/constant.js [app-ssr] (ecmascript) <export default as constant>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/elem.js [app-ssr] (ecmascript) <export default as elem>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$defaults$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorDefaults$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-color/es/src/defaults.js [app-ssr] (ecmascript) <export default as colorDefaults>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$shape$2f$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-shape/es/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$rtl$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__rtl$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-text/es/src/rtl.js [app-ssr] (ecmascript) <export default as rtl>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$TextBox$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextBox$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-text/es/src/TextBox.js [app-ssr] (ecmascript) <export default as TextBox>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWidth$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWidth$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-text/es/src/textWidth.js [app-ssr] (ecmascript) <export default as textWidth>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWrap$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWrap$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-text/es/src/textWrap.js [app-ssr] (ecmascript) <export default as textWrap>");
function _typeof(obj) {
    "@babel/helpers - typeof";
    return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    }, _typeof(obj);
}
function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}
function _defineProperties(target, props) {
    for(var i = 0; i < props.length; i++){
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
    }
}
function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    Object.defineProperty(Constructor, "prototype", {
        writable: false
    });
    return Constructor;
}
function _toPropertyKey(arg) {
    var key = _toPrimitive(arg, "string");
    return _typeof(key) === "symbol" ? key : String(key);
}
function _toPrimitive(input, hint) {
    if (_typeof(input) !== "object" || input === null) return input;
    var prim = input[Symbol.toPrimitive];
    if (prim !== undefined) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object") return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return (hint === "string" ? String : Number)(input);
}
function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
    }
    subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
            value: subClass,
            writable: true,
            configurable: true
        }
    });
    Object.defineProperty(subClass, "prototype", {
        writable: false
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
}
function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {
        o.__proto__ = p;
        return o;
    };
    return _setPrototypeOf(o, p);
}
function _createSuper(Derived) {
    var hasNativeReflectConstruct = _isNativeReflectConstruct();
    return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
            var NewTarget = _getPrototypeOf(this).constructor;
            result = Reflect.construct(Super, arguments, NewTarget);
        } else {
            result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
    };
}
function _possibleConstructorReturn(self, call) {
    if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
    } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
    }
    return _assertThisInitialized(self);
}
function _assertThisInitialized(self) {
    if (self === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }
    return self;
}
function _isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;
    try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
        return true;
    } catch (e) {
        return false;
    }
}
function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {
        return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
}
;
;
;
;
;
;
var padding = 5;
/**
    @class Legend
    @extends external:BaseClass
    @desc Creates an SVG scale based on an array of data. If *data* is specified, immediately draws based on the specified array and returns the current class instance. If *data* is not specified on instantiation, it can be passed/updated after instantiation using the [data](#shape.data) method.
*/ var Legend = /*#__PURE__*/ function(_BaseClass) {
    _inherits(Legend, _BaseClass);
    var _super = _createSuper(Legend);
    /**
      @memberof Legend
      @desc Invoked when creating a new class instance, and sets any default parameters.
      @private
  */ function Legend() {
        var _this;
        _classCallCheck(this, Legend);
        _this = _super.call(this);
        _this._titleClass = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$TextBox$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextBox$3e$__["TextBox"]();
        _this._align = "center";
        _this._data = [];
        _this._direction = "row";
        _this._duration = 600;
        _this._height = 200;
        _this._id = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$accessor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__accessor$3e$__["accessor"])("id");
        _this._label = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$accessor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__accessor$3e$__["accessor"])("id");
        _this._lineData = [];
        _this._outerBounds = {
            width: 0,
            height: 0,
            x: 0,
            y: 0
        };
        _this._padding = 5;
        _this._shape = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__["constant"])("Rect");
        _this._shapes = [];
        _this._shapeConfig = {
            fill: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$accessor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__accessor$3e$__["accessor"])("color"),
            height: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__["constant"])(12),
            hitArea: function hitArea(dd, i) {
                var d = _this._lineData[i], h = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])([
                    d.height,
                    d.shapeHeight
                ]);
                return {
                    width: d.width + d.shapeWidth,
                    height: h,
                    x: -d.shapeWidth / 2,
                    y: -h / 2
                };
            },
            labelBounds: function labelBounds(dd, i) {
                var d = _this._lineData[i];
                var x = d.shapeWidth / 2;
                if (d.shape === "Circle") x -= d.shapeR / 2;
                var height = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])([
                    d.shapeHeight,
                    d.height
                ]);
                var rtlMod = _this._rtl ? d.shapeWidth + d.width + _this._padding * 2 : 0;
                return {
                    width: d.width,
                    height: height,
                    x: x + padding - rtlMod,
                    y: -height / 2
                };
            },
            labelConfig: {
                fontColor: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__["constant"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$defaults$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorDefaults$3e$__["colorDefaults"].dark),
                fontFamily: _this._titleClass.fontFamily(),
                fontResize: false,
                fontSize: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__["constant"])(10),
                verticalAlign: "middle"
            },
            opacity: 1,
            r: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__["constant"])(6),
            width: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__["constant"])(12),
            x: function x(d, i) {
                var datum = _this._lineData[i];
                var y = datum.y;
                var pad = _this._align === "left" || _this._align === "right" && _this._direction === "column" ? 0 : _this._align === "center" ? (_this._outerBounds.width - _this._rowWidth(_this._lineData.filter(function(l) {
                    return y === l.y;
                }))) / 2 : _this._outerBounds.width - _this._rowWidth(_this._lineData.filter(function(l) {
                    return y === l.y;
                }));
                var prevWords = _this._lineData.slice(0, i).filter(function(l) {
                    return y === l.y;
                });
                var rtlMod = _this._rtl ? datum.width + _this._padding : 0;
                return _this._rowWidth(prevWords) + _this._padding * (prevWords.length ? datum.sentence ? 2 : 1 : 0) + _this._outerBounds.x + datum.shapeWidth / 2 + pad + rtlMod;
            },
            y: function y(d, i) {
                var ld = _this._lineData[i];
                return ld.y + _this._titleHeight + _this._outerBounds.y + (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(_this._lineData.filter(function(l) {
                    return ld.y === l.y;
                }).map(function(l) {
                    return l.height;
                }).concat(_this._data.map(function(l, x) {
                    return _this._fetchConfig("height", l, x);
                }))) / 2;
            }
        };
        _this._titleConfig = {
            fontSize: 12
        };
        _this._verticalAlign = "middle";
        _this._width = 400;
        return _this;
    }
    _createClass(Legend, [
        {
            key: "_fetchConfig",
            value: function _fetchConfig(key, d, i) {
                var val = this._shapeConfig[key] !== undefined ? this._shapeConfig[key] : this._shapeConfig.labelConfig[key];
                if (!val && key === "lineHeight") return this._fetchConfig("fontSize", d, i) * 1.4;
                return typeof val === "function" ? val(d, i) : val;
            }
        },
        {
            key: "_rowHeight",
            value: function _rowHeight(row) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(row.map(function(d) {
                    return d.height;
                }).concat(row.map(function(d) {
                    return d.shapeHeight;
                }))) + this._padding;
            }
        },
        {
            key: "_rowWidth",
            value: function _rowWidth(row) {
                var _this2 = this;
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sum$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__sum$3e$__["sum"])(row.map(function(d, i) {
                    var p = _this2._padding * (i === row.length - 1 ? 0 : d.width ? 2 : 1);
                    return d.shapeWidth + d.width + p;
                }));
            }
        },
        {
            key: "render",
            value: function render(callback) {
                var _this3 = this;
                if (this._select === void 0) this.select((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$selection$2f$src$2f$select$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__select$3e$__["select"])("body").append("svg").attr("width", "".concat(this._width, "px")).attr("height", "".concat(this._height, "px")).node());
                // Legend Container <g> Groups
                this._group = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-Legend", {
                    parent: this._select
                });
                this._titleGroup = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-Legend-title", {
                    parent: this._group
                });
                this._shapeGroup = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-Legend-shape", {
                    parent: this._group
                });
                var availableHeight = this._height;
                this._titleHeight = 0;
                this._titleWidth = 0;
                if (this._title) {
                    var f = this._titleConfig.fontFamily || this._titleClass.fontFamily()(), s = this._titleConfig.fontSize || this._titleClass.fontSize()();
                    var lH = lH = this._titleConfig.lineHeight || this._titleClass.lineHeight();
                    lH = lH ? lH() : s * 1.4;
                    var res = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWrap$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWrap$3e$__["textWrap"])().fontFamily(f).fontSize(s).lineHeight(lH).width(this._width).height(this._height)(this._title);
                    this._titleHeight = lH + res.lines.length + this._padding;
                    this._titleWidth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(res.widths);
                    availableHeight -= this._titleHeight;
                }
                // Calculate Text Sizes
                this._lineData = this._data.map(function(d, i) {
                    var label = _this3._label(d, i);
                    var shape = _this3._shape(d, i);
                    var r = _this3._fetchConfig("r", d, i);
                    var res = {
                        data: d,
                        i: i,
                        id: _this3._id(d, i),
                        shape: shape,
                        shapeR: r,
                        shapeWidth: shape === "Circle" ? r * 2 : _this3._fetchConfig("width", d, i),
                        shapeHeight: shape === "Circle" ? r * 2 : _this3._fetchConfig("height", d, i),
                        y: 0
                    };
                    if (!label) {
                        res.sentence = false;
                        res.words = [];
                        res.height = 0;
                        res.width = 0;
                        return res;
                    }
                    var f = _this3._fetchConfig("fontFamily", d, i), lh = _this3._fetchConfig("lineHeight", d, i), s = _this3._fetchConfig("fontSize", d, i);
                    var h = availableHeight - (_this3._data.length + 1) * _this3._padding, w = _this3._width;
                    var newRes = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWrap$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWrap$3e$__["textWrap"])().fontFamily(f).fontSize(s).lineHeight(lh).width(w).height(h)(label);
                    res = Object.assign(res, newRes);
                    res.width = Math.ceil((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(res.lines.map(function(t) {
                        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWidth$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWidth$3e$__["textWidth"])(t, {
                            "font-family": f,
                            "font-size": s
                        });
                    }))) + padding * 2;
                    res.height = Math.ceil(res.lines.length * (lh + 1));
                    res.og = {
                        height: res.height,
                        width: res.width
                    };
                    res.f = f;
                    res.s = s;
                    res.lh = lh;
                    return res;
                });
                var spaceNeeded;
                var availableWidth = this._width - this._padding * 2;
                spaceNeeded = this._rowWidth(this._lineData);
                if (this._direction === "column" || spaceNeeded > availableWidth) {
                    var lines = 1, newRows = [];
                    var maxLines = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(this._lineData.map(function(d) {
                        return d.words.length;
                    }));
                    this._wrapLines = function() {
                        var _this4 = this;
                        lines++;
                        if (lines > maxLines) return;
                        var wrappable = lines === 1 ? this._lineData.slice() : this._lineData.filter(function(d) {
                            return d.width + d.shapeWidth + _this4._padding * (d.width ? 2 : 1) > availableWidth && d.words.length >= lines;
                        }).sort(function(a, b) {
                            return b.sentence.length - a.sentence.length;
                        });
                        if (wrappable.length && availableHeight > wrappable[0].height * lines) {
                            var truncated = false;
                            var _loop = function _loop() {
                                var label = wrappable[x];
                                var h = label.og.height * lines, w = label.og.width * (1.5 * (1 / lines));
                                var res = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWrap$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWrap$3e$__["textWrap"])().fontFamily(label.f).fontSize(label.s).lineHeight(label.lh).width(w).height(h)(label.sentence);
                                if (!res.truncated) {
                                    label.width = Math.ceil((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(res.lines.map(function(t) {
                                        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWidth$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWidth$3e$__["textWidth"])(t, {
                                            "font-family": label.f,
                                            "font-size": label.s
                                        });
                                    }))) + label.s;
                                    label.height = res.lines.length * (label.lh + 1);
                                } else {
                                    truncated = true;
                                    return "break";
                                }
                            };
                            for(var x = 0; x < wrappable.length; x++){
                                var _ret = _loop();
                                if (_ret === "break") break;
                            }
                            if (!truncated) this._wrapRows();
                        } else {
                            newRows = [];
                            return;
                        }
                    };
                    this._wrapRows = function() {
                        newRows = [];
                        var row = 1, rowWidth = 0;
                        for(var i = 0; i < this._lineData.length; i++){
                            var d = this._lineData[i], w = d.width + this._padding * (d.width ? 2 : 1) + d.shapeWidth;
                            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sum$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__sum$3e$__["sum"])(newRows.map(function(row) {
                                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(row, function(d) {
                                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])([
                                        d.height,
                                        d.shapeHeight
                                    ]);
                                });
                            })) > availableHeight) {
                                newRows = [];
                                break;
                            }
                            if (w > availableWidth) {
                                newRows = [];
                                this._wrapLines();
                                break;
                            } else if (rowWidth + w < availableWidth) {
                                rowWidth += w;
                            } else if (this._direction !== "column") {
                                rowWidth = w;
                                row++;
                            }
                            if (!newRows[row - 1]) newRows[row - 1] = [];
                            newRows[row - 1].push(d);
                            if (this._direction === "column") {
                                rowWidth = 0;
                                row++;
                            }
                        }
                    };
                    this._wrapRows();
                    if (!newRows.length || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sum$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__sum$3e$__["sum"])(newRows, this._rowHeight.bind(this)) + this._padding > availableHeight) {
                        spaceNeeded = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sum$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__sum$3e$__["sum"])(this._lineData.map(function(d) {
                            return d.shapeWidth + _this3._padding;
                        })) - this._padding;
                        for(var i = 0; i < this._lineData.length; i++){
                            this._lineData[i].width = 0;
                            this._lineData[i].height = 0;
                        }
                        this._wrapRows();
                    }
                    if (newRows.length && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sum$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__sum$3e$__["sum"])(newRows, this._rowHeight.bind(this)) + this._padding < availableHeight) {
                        newRows.forEach(function(row, i) {
                            row.forEach(function(d) {
                                if (i) {
                                    d.y = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$sum$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__sum$3e$__["sum"])(newRows.slice(0, i), _this3._rowHeight.bind(_this3));
                                }
                            });
                        });
                        spaceNeeded = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(newRows, this._rowWidth.bind(this));
                    }
                }
                var innerHeight = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(this._lineData, function(d, i) {
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])([
                        d.height,
                        _this3._fetchConfig("height", d.data, i)
                    ]) + d.y;
                }) + this._titleHeight, innerWidth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])([
                    spaceNeeded,
                    this._titleWidth
                ]);
                this._outerBounds.width = innerWidth;
                this._outerBounds.height = innerHeight;
                var xOffset = this._padding, yOffset = this._padding;
                if (this._align === "center") xOffset = (this._width - innerWidth) / 2;
                else if (this._align === "right") xOffset = this._width - this._padding - innerWidth;
                if (this._verticalAlign === "middle") yOffset = (this._height - innerHeight) / 2;
                else if (this._verticalAlign === "bottom") yOffset = this._height - this._padding - innerHeight;
                this._outerBounds.x = xOffset;
                this._outerBounds.y = yOffset;
                this._titleClass.data(this._title ? [
                    {
                        text: this._title
                    }
                ] : []).duration(this._duration).select(this._titleGroup.node()).textAnchor({
                    left: "start",
                    center: "middle",
                    right: "end"
                }[this._align]).width(this._width - this._padding * 2).x(this._padding).y(this._outerBounds.y).config(this._titleConfig).render();
                this._shapes = [];
                var baseConfig = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$configPrep$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__configPrep$3e$__["configPrep"].bind(this)(this._shapeConfig, "legend"), config = {
                    id: function id(d) {
                        return d.id;
                    },
                    label: function label(d) {
                        return d.label;
                    },
                    lineHeight: function lineHeight(d) {
                        return d.lH;
                    }
                };
                var data = this._data.map(function(d, i) {
                    var obj = {
                        __d3plus__: true,
                        data: d,
                        i: i,
                        id: _this3._id(d, i),
                        label: _this3._lineData[i].width ? _this3._label(d, i) : false,
                        lH: _this3._fetchConfig("lineHeight", d, i),
                        shape: _this3._shape(d, i)
                    };
                    return obj;
                });
                // Legend Shapes
                this._shapes = [];
                [
                    "Circle",
                    "Rect"
                ].forEach(function(Shape) {
                    _this3._shapes.push(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$shape$2f$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[Shape]().parent(_this3).data(data.filter(function(d) {
                        return d.shape === Shape;
                    })).duration(_this3._duration).labelConfig({
                        padding: 0
                    }).select(_this3._shapeGroup.node()).verticalAlign("top").config((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])({}, baseConfig, config)).render());
                });
                if (callback) setTimeout(callback, this._duration + 100);
                return this;
            }
        },
        {
            key: "active",
            value: function active(_) {
                this._shapes.forEach(function(s) {
                    return s.active(_);
                });
                return this;
            }
        },
        {
            key: "align",
            value: function align(_) {
                return arguments.length ? (this._align = _, this) : this._align;
            }
        },
        {
            key: "data",
            value: function data(_) {
                return arguments.length ? (this._data = _, this) : this._data;
            }
        },
        {
            key: "direction",
            value: function direction(_) {
                return arguments.length ? (this._direction = _, this) : this._direction;
            }
        },
        {
            key: "duration",
            value: function duration(_) {
                return arguments.length ? (this._duration = _, this) : this._duration;
            }
        },
        {
            key: "height",
            value: function height(_) {
                return arguments.length ? (this._height = _, this) : this._height;
            }
        },
        {
            key: "hover",
            value: function hover(_) {
                this._shapes.forEach(function(s) {
                    return s.hover(_);
                });
                return this;
            }
        },
        {
            key: "id",
            value: function id(_) {
                return arguments.length ? (this._id = _, this) : this._id;
            }
        },
        {
            key: "label",
            value: function label(_) {
                return arguments.length ? (this._label = typeof _ === "function" ? _ : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__["constant"])(_), this) : this._label;
            }
        },
        {
            key: "outerBounds",
            value: function outerBounds() {
                return this._outerBounds;
            }
        },
        {
            key: "padding",
            value: function padding(_) {
                return arguments.length ? (this._padding = _, this) : this._padding;
            }
        },
        {
            key: "select",
            value: function select(_) {
                if (arguments.length) {
                    this._select = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$selection$2f$src$2f$select$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__select$3e$__["select"])(_);
                    this._rtl = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$rtl$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__rtl$3e$__["rtl"])(this._select.node());
                    return this;
                }
                return this._select;
            }
        },
        {
            key: "shape",
            value: function shape(_) {
                return arguments.length ? (this._shape = typeof _ === "function" ? _ : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__["constant"])(_), this) : this._shape;
            }
        },
        {
            key: "shapeConfig",
            value: function shapeConfig(_) {
                return arguments.length ? (this._shapeConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])(this._shapeConfig, _), this) : this._shapeConfig;
            }
        },
        {
            key: "title",
            value: function title(_) {
                return arguments.length ? (this._title = _, this) : this._title;
            }
        },
        {
            key: "titleConfig",
            value: function titleConfig(_) {
                return arguments.length ? (this._titleConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])(this._titleConfig, _), this) : this._titleConfig;
            }
        },
        {
            key: "verticalAlign",
            value: function verticalAlign(_) {
                return arguments.length ? (this._verticalAlign = _, this) : this._verticalAlign;
            }
        },
        {
            key: "width",
            value: function width(_) {
                return arguments.length ? (this._width = _, this) : this._width;
            }
        }
    ]);
    return Legend;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$BaseClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__BaseClass$3e$__["BaseClass"]);
;
}),
"[project]/node_modules/d3plus-legend/es/src/ColorScale.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>ColorScale
]);
/**
    @external BaseClass
    @see https://github.com/d3plus/d3plus-common#BaseClass
*/ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$extent$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__extent$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/extent.js [app-ssr] (ecmascript) <export default as extent>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/max.js [app-ssr] (ecmascript) <export default as max>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__min$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/min.js [app-ssr] (ecmascript) <export default as min>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$quantile$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__quantile$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/quantile.js [app-ssr] (ecmascript) <export default as quantile>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/range.js [app-ssr] (ecmascript) <export default as range>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$deviation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deviation$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/node_modules/d3-array/src/deviation.js [app-ssr] (ecmascript) <export default as deviation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$interpolate$2f$src$2f$rgb$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__interpolateRgb$3e$__ = __turbopack_context__.i("[project]/node_modules/d3-interpolate/src/rgb.js [app-ssr] (ecmascript) <export default as interpolateRgb>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2f$src$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__scaleLinear$3e$__ = __turbopack_context__.i("[project]/node_modules/d3-scale/src/linear.js [app-ssr] (ecmascript) <export default as scaleLinear>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2f$src$2f$threshold$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__scaleThreshold$3e$__ = __turbopack_context__.i("[project]/node_modules/d3-scale/src/threshold.js [app-ssr] (ecmascript) <export default as scaleThreshold>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$selection$2f$src$2f$select$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__select$3e$__ = __turbopack_context__.i("[project]/node_modules/d3-selection/src/select.js [app-ssr] (ecmascript) <export default as select>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$transition$2f$src$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/d3-transition/src/index.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$transition$2f$src$2f$transition$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__transition$3e$__ = __turbopack_context__.i("[project]/node_modules/d3-transition/src/transition/index.js [app-ssr] (ecmascript) <export default as transition>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$axis$2f$es$2f$src$2f$Axis$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Axis$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-axis/es/src/Axis.js [app-ssr] (ecmascript) <export default as Axis>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$defaults$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorDefaults$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-color/es/src/defaults.js [app-ssr] (ecmascript) <export default as colorDefaults>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$lighter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorLighter$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-color/es/src/lighter.js [app-ssr] (ecmascript) <export default as colorLighter>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$accessor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__accessor$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/accessor.js [app-ssr] (ecmascript) <export default as accessor>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/assign.js [app-ssr] (ecmascript) <export default as assign>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$BaseClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__BaseClass$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/BaseClass.js [app-ssr] (ecmascript) <export default as BaseClass>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/constant.js [app-ssr] (ecmascript) <export default as constant>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/elem.js [app-ssr] (ecmascript) <export default as elem>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$unique$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__unique$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-common/es/src/unique.js [app-ssr] (ecmascript) <export default as unique>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$format$2f$es$2f$src$2f$formatAbbreviate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__formatAbbreviate$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-format/es/src/formatAbbreviate.js [app-ssr] (ecmascript) <export default as formatAbbreviate>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$shape$2f$es$2f$src$2f$Shape$2f$Rect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Rect$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-shape/es/src/Shape/Rect.js [app-ssr] (ecmascript) <export default as Rect>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$TextBox$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextBox$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-text/es/src/TextBox.js [app-ssr] (ecmascript) <export default as TextBox>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWidth$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWidth$3e$__ = __turbopack_context__.i("[project]/node_modules/d3plus-text/es/src/textWidth.js [app-ssr] (ecmascript) <export default as textWidth>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$ckmeans$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/es/src/ckmeans.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$Legend$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/es/src/Legend.js [app-ssr] (ecmascript)");
function _typeof(obj) {
    "@babel/helpers - typeof";
    return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    }, _typeof(obj);
}
function _defineProperty(obj, key, value) {
    key = _toPropertyKey(key);
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}
function _defineProperties(target, props) {
    for(var i = 0; i < props.length; i++){
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
    }
}
function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    Object.defineProperty(Constructor, "prototype", {
        writable: false
    });
    return Constructor;
}
function _toPropertyKey(arg) {
    var key = _toPrimitive(arg, "string");
    return _typeof(key) === "symbol" ? key : String(key);
}
function _toPrimitive(input, hint) {
    if (_typeof(input) !== "object" || input === null) return input;
    var prim = input[Symbol.toPrimitive];
    if (prim !== undefined) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object") return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return (hint === "string" ? String : Number)(input);
}
function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
    }
    subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
            value: subClass,
            writable: true,
            configurable: true
        }
    });
    Object.defineProperty(subClass, "prototype", {
        writable: false
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
}
function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {
        o.__proto__ = p;
        return o;
    };
    return _setPrototypeOf(o, p);
}
function _createSuper(Derived) {
    var hasNativeReflectConstruct = _isNativeReflectConstruct();
    return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
            var NewTarget = _getPrototypeOf(this).constructor;
            result = Reflect.construct(Super, arguments, NewTarget);
        } else {
            result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
    };
}
function _possibleConstructorReturn(self, call) {
    if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
    } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
    }
    return _assertThisInitialized(self);
}
function _assertThisInitialized(self) {
    if (self === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }
    return self;
}
function _isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;
    try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));
        return true;
    } catch (e) {
        return false;
    }
}
function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {
        return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
}
;
;
;
;
;
;
;
;
;
;
;
;
;
/**
    @class ColorScale
    @extends external:BaseClass
    @desc Creates an SVG scale based on an array of data. If *data* is specified, immediately draws based on the specified array and returns the current class instance. If *data* is not specified on instantiation, it can be passed/updated after instantiation using the [data](#shape.data) method.
*/ var ColorScale = /*#__PURE__*/ function(_BaseClass) {
    _inherits(ColorScale, _BaseClass);
    var _super = _createSuper(ColorScale);
    /**
      @memberof ColorScale
      @desc Invoked when creating a new class instance, and sets any default parameters.
      @private
  */ function ColorScale() {
        var _this;
        _classCallCheck(this, ColorScale);
        _this = _super.call(this);
        _this._axisClass = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$axis$2f$es$2f$src$2f$Axis$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Axis$3e$__["Axis"]();
        _this._axisConfig = {
            gridSize: 0
        };
        _this._axisTest = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$axis$2f$es$2f$src$2f$Axis$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Axis$3e$__["Axis"]();
        _this._align = "middle";
        _this._buckets = 5;
        _this._bucketAxis = false;
        _this._bucketFormat = function(tick, i, ticks, allValues) {
            var format = _this._axisConfig.tickFormat ? _this._axisConfig.tickFormat : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$format$2f$es$2f$src$2f$formatAbbreviate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__formatAbbreviate$3e$__["formatAbbreviate"];
            var next = ticks[i + 1];
            var prev = i ? ticks[i - 1] : false;
            var last = i === ticks.length - 1;
            if (tick === next || last) {
                var suffix = last && tick < (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])(allValues) ? "+" : "";
                return "".concat(format(tick)).concat(suffix);
            } else {
                var mod = next ? next / 100 : tick / 100;
                var pow = mod >= 1 || mod <= -1 ? Math.round(mod).toString().length - 1 : mod.toString().split(".")[1].replace(/([1-9])[1-9].*$/, "$1").length * -1;
                var ten = Math.pow(10, pow);
                var prevValue = prev === tick && i === 1 ? format((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__min$3e$__["min"])([
                    tick + ten,
                    allValues.find(function(d) {
                        return d > tick && d < next;
                    })
                ])) : format(tick);
                var nextValue = tick && i === 1 ? format(next) : format((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$max$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__max$3e$__["max"])([
                    next - ten,
                    allValues.reverse().find(function(d) {
                        return d > tick && d < next;
                    })
                ]));
                return _this._bucketJoiner(prevValue, nextValue);
            }
        };
        _this._bucketJoiner = function(a, b) {
            return a !== b ? "".concat(a, " - ").concat(b) : "".concat(a);
        };
        _this._centered = true;
        _this._color = [
            "#54478C",
            "#2C699A",
            "#0DB39E",
            "#83E377",
            "#EFEA5A"
        ];
        _this._colorMax = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$defaults$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorDefaults$3e$__["colorDefaults"].on;
        _this._colorMid = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$defaults$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorDefaults$3e$__["colorDefaults"].light;
        _this._colorMin = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$defaults$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorDefaults$3e$__["colorDefaults"].off;
        _this._data = [];
        _this._duration = 600;
        _this._height = 200;
        _this._labelClass = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$TextBox$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__TextBox$3e$__["TextBox"]();
        _this._labelConfig = {
            fontColor: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$defaults$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorDefaults$3e$__["colorDefaults"].dark,
            fontSize: 12
        };
        _this._legendClass = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$Legend$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]();
        _this._legendConfig = {
            shapeConfig: {
                stroke: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$defaults$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorDefaults$3e$__["colorDefaults"].dark,
                strokeWidth: 1
            }
        };
        _this._midpoint = 0;
        _this._orient = "bottom";
        _this._outerBounds = {
            width: 0,
            height: 0,
            x: 0,
            y: 0
        };
        _this._padding = 5;
        _this._rectClass = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$shape$2f$es$2f$src$2f$Shape$2f$Rect$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Rect$3e$__["Rect"]().parent(_assertThisInitialized(_this));
        _this._rectConfig = {
            stroke: "#999",
            strokeWidth: 1
        };
        _this._scale = "linear";
        _this._size = 10;
        _this._value = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$accessor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__accessor$3e$__["accessor"])("value");
        _this._width = 400;
        return _this;
    }
    /**
      @memberof ColorScale
      @desc Renders the current ColorScale to the page. If a *callback* is specified, it will be called once the ColorScale is done drawing.
      @param {Function} [*callback* = undefined]
      @chainable
  */ _createClass(ColorScale, [
        {
            key: "render",
            value: function render(callback) {
                var _this2 = this;
                if (this._select === void 0) this.select((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$selection$2f$src$2f$select$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__select$3e$__["select"])("body").append("svg").attr("width", "".concat(this._width, "px")).attr("height", "".concat(this._height, "px")).node());
                var horizontal = [
                    "bottom",
                    "top"
                ].includes(this._orient);
                var height = horizontal ? "height" : "width", width = horizontal ? "width" : "height", x = horizontal ? "x" : "y", y = horizontal ? "y" : "x";
                // Shape <g> Group
                this._group = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-ColorScale", {
                    parent: this._select
                });
                var allValues = this._data.map(this._value).filter(function(d) {
                    return d !== null && typeof d === "number";
                }).sort(function(a, b) {
                    return a - b;
                });
                var domain = this._domain || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$extent$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__extent$3e$__["extent"])(allValues);
                var negative = domain[0] < this._midpoint;
                var positive = domain[1] > this._midpoint;
                var diverging = negative && positive;
                var numBuckets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__min$3e$__["min"])([
                    this._buckets instanceof Array ? this._buckets.length : this._buckets,
                    diverging && this._scale !== "jenks" ? 2 * Math.floor((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$unique$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__unique$3e$__["unique"])(allValues).length / 2) - 1 : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$unique$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__unique$3e$__["unique"])(allValues).length
                ]);
                var colors = diverging && (!this._color || this._color instanceof Array && !this._color.includes(this._colorMid)) ? undefined : this._color, labels, ticks;
                if (colors && !(colors instanceof Array)) {
                    colors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(0, numBuckets, 1).map(function(i) {
                        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$lighter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorLighter$3e$__["colorLighter"])(colors, (i + 1) / numBuckets);
                    }).reverse();
                }
                if (this._scale === "jenks") {
                    var buckets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__min$3e$__["min"])([
                        colors ? colors.length : numBuckets,
                        numBuckets,
                        allValues.length
                    ]);
                    var jenks = [];
                    if (this._buckets instanceof Array) {
                        ticks = this._buckets;
                    } else {
                        if (diverging && this._centered) {
                            var half = Math.floor(buckets / 2);
                            var residual = buckets % 2;
                            var negatives = allValues.filter(function(d) {
                                return d < _this2._midpoint;
                            });
                            var negativesDeviation = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$deviation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deviation$3e$__["deviation"])(negatives);
                            var positives = allValues.concat(this._midpoint).filter(function(d) {
                                return d >= _this2._midpoint;
                            });
                            var positivesDeviation = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$deviation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__deviation$3e$__["deviation"])(positives);
                            var isNegativeMax = negativesDeviation > positivesDeviation ? 1 : 0;
                            var isPositiveMax = positivesDeviation > negativesDeviation ? 1 : 0;
                            var negativeJenks = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$ckmeans$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(negatives, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__min$3e$__["min"])([
                                half + residual * isNegativeMax,
                                negatives.length
                            ]));
                            var positiveJenks = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$ckmeans$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(positives, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$min$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__min$3e$__["min"])([
                                half + residual * isPositiveMax,
                                positives.length
                            ]));
                            jenks = negativeJenks.concat(positiveJenks);
                        } else {
                            jenks = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$ckmeans$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(allValues, buckets);
                        }
                        ticks = jenks.map(function(c) {
                            return c[0];
                        });
                    }
                    var tickSet = new Set(ticks);
                    if (ticks.length !== tickSet.size) labels = Array.from(tickSet);
                    if (!colors) {
                        if (diverging) {
                            colors = [
                                this._colorMin,
                                this._colorMid,
                                this._colorMax
                            ];
                            var _negatives = ticks.slice(0, buckets).filter(function(d, i) {
                                return d < _this2._midpoint && ticks[i + 1] <= _this2._midpoint;
                            });
                            var spanning = ticks.slice(0, buckets).filter(function(d, i) {
                                return d <= _this2._midpoint && ticks[i + 1] > _this2._midpoint;
                            });
                            var _positives = ticks.slice(0, buckets).filter(function(d) {
                                return d > _this2._midpoint;
                            });
                            var negativeColors = _negatives.map(function(d, i) {
                                return !i ? colors[0] : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$lighter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorLighter$3e$__["colorLighter"])(colors[0], i / _negatives.length);
                            });
                            var spanningColors = spanning.map(function() {
                                return colors[1];
                            });
                            var positiveColors = _positives.map(function(d, i) {
                                return i === _positives.length - 1 ? colors[2] : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$lighter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorLighter$3e$__["colorLighter"])(colors[2], 1 - (i + 1) / _positives.length);
                            });
                            colors = negativeColors.concat(spanningColors).concat(positiveColors);
                        } else {
                            colors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(0, numBuckets, 1).map(function(i) {
                                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$lighter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorLighter$3e$__["colorLighter"])(_this2._colorMax, i / numBuckets);
                            }).reverse();
                        }
                    }
                    if (ticks.length <= buckets) colors = colors.slice(-ticks.length);
                    colors = [
                        colors[0]
                    ].concat(colors);
                    this._colorScale = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2f$src$2f$threshold$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__scaleThreshold$3e$__["scaleThreshold"])().domain(ticks).range(colors);
                } else {
                    var _buckets = this._buckets instanceof Array ? this._buckets : undefined;
                    if (diverging && !colors) {
                        var _half = Math.floor(numBuckets / 2);
                        var negativeColorScale = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$interpolate$2f$src$2f$rgb$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__interpolateRgb$3e$__["interpolateRgb"].gamma(2.2)(this._colorMin, this._colorMid);
                        var _negativeColors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(0, _half, 1).map(function(i) {
                            return negativeColorScale(i / _half);
                        });
                        var _spanningColors = (numBuckets % 2 ? [
                            0
                        ] : []).map(function() {
                            return _this2._colorMid;
                        });
                        var positiveColorScale = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$interpolate$2f$src$2f$rgb$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__interpolateRgb$3e$__["interpolateRgb"].gamma(2.2)(this._colorMax, this._colorMid);
                        var _positiveColors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(0, _half, 1).map(function(i) {
                            return positiveColorScale(i / _half);
                        }).reverse();
                        colors = _negativeColors.concat(_spanningColors).concat(_positiveColors);
                        if (!_buckets) {
                            var step = (colors.length - 1) / 2;
                            _buckets = [
                                domain[0],
                                this._midpoint,
                                domain[1]
                            ];
                            _buckets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(domain[0], this._midpoint, -(domain[0] - this._midpoint) / step).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(this._midpoint, domain[1], (domain[1] - this._midpoint) / step)).concat([
                                domain[1]
                            ]);
                        }
                    } else {
                        if (!colors) {
                            if (this._scale === "buckets" || this._scale === "quantile") {
                                colors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(0, numBuckets, 1).map(function(i) {
                                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$lighter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorLighter$3e$__["colorLighter"])(negative ? _this2._colorMin : _this2._colorMax, i / numBuckets);
                                });
                                if (positive) colors = colors.reverse();
                            } else {
                                colors = negative ? [
                                    this._colorMin,
                                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$lighter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorLighter$3e$__["colorLighter"])(this._colorMin, 0.8)
                                ] : [
                                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$color$2f$es$2f$src$2f$lighter$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__colorLighter$3e$__["colorLighter"])(this._colorMax, 0.8),
                                    this._colorMax
                                ];
                            }
                        }
                        if (!_buckets) {
                            if (this._scale === "quantile") {
                                var _step = 1 / (colors.length - 1);
                                _buckets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(0, 1 + _step / 2, _step).map(function(d) {
                                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$quantile$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__quantile$3e$__["quantile"])(allValues, d);
                                });
                            } else if (diverging && this._color && this._centered) {
                                var midIndex = colors.indexOf(this._colorMid);
                                var negativeStep = (this._midpoint - domain[0]) / midIndex;
                                var positiveStep = (domain[1] - this._midpoint) / (colors.length - midIndex);
                                var negativeBuckets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(domain[0], this._midpoint, negativeStep);
                                var positiveBuckets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(this._midpoint, domain[1] + positiveStep / 2, positiveStep);
                                _buckets = negativeBuckets.concat(positiveBuckets);
                            } else {
                                var _step2 = (domain[1] - domain[0]) / (colors.length - 1);
                                _buckets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$node_modules$2f$d3$2d$array$2f$src$2f$range$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__range$3e$__["range"])(domain[0], domain[1] + _step2 / 2, _step2);
                            }
                        }
                    }
                    if (this._scale === "buckets" || this._scale === "quantile") {
                        ticks = _buckets;
                        colors = [
                            colors[0]
                        ].concat(colors);
                    } else if (this._scale === "log") {
                        var _negativeBuckets = _buckets.filter(function(d) {
                            return d < 0;
                        });
                        if (_negativeBuckets.length) {
                            var minVal = _negativeBuckets[0];
                            var newNegativeBuckets = _negativeBuckets.map(function(d) {
                                return -Math.pow(Math.abs(minVal), d / minVal);
                            });
                            _negativeBuckets.forEach(function(bucket, i) {
                                _buckets[_buckets.indexOf(bucket)] = newNegativeBuckets[i];
                            });
                        }
                        var _positiveBuckets = _buckets.filter(function(d) {
                            return d > 0;
                        });
                        if (_positiveBuckets.length) {
                            var maxVal = _positiveBuckets[_positiveBuckets.length - 1];
                            var newPositiveBuckets = _positiveBuckets.map(function(d) {
                                return Math.pow(maxVal, d / maxVal);
                            });
                            _positiveBuckets.forEach(function(bucket, i) {
                                _buckets[_buckets.indexOf(bucket)] = newPositiveBuckets[i];
                            });
                        }
                        if (_buckets.includes(0)) _buckets[_buckets.indexOf(0)] = 1;
                    }
                    this._colorScale = (this._scale === "buckets" || this._scale === "quantile" ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2f$src$2f$threshold$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__scaleThreshold$3e$__["scaleThreshold"] : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2f$src$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__scaleLinear$3e$__["scaleLinear"])().domain(_buckets).range(colors);
                }
                if (this._colorScale.clamp) this._colorScale.clamp(true);
                var gradient = this._bucketAxis || ![
                    "buckets",
                    "jenks",
                    "quantile"
                ].includes(this._scale);
                var t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$transition$2f$src$2f$transition$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__transition$3e$__["transition"])().duration(this._duration);
                var groupParams = {
                    enter: {
                        opacity: 0
                    },
                    exit: {
                        opacity: 0
                    },
                    parent: this._group,
                    transition: t,
                    update: {
                        opacity: 1
                    }
                };
                var labelGroup = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-ColorScale-labels", Object.assign({
                    condition: gradient
                }, groupParams));
                var rectGroup = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-ColorScale-Rect", Object.assign({
                    condition: gradient
                }, groupParams));
                var legendGroup = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-ColorScale-legend", Object.assign({
                    condition: !gradient
                }, groupParams));
                if (gradient) {
                    var _assign;
                    var offsets = {
                        x: 0,
                        y: 0
                    };
                    var axisDomain = domain.slice();
                    if (this._bucketAxis) {
                        var last = axisDomain[axisDomain.length - 1];
                        var prev = axisDomain[axisDomain.length - 2];
                        var mod = last ? last / 10 : prev / 10;
                        var pow = mod >= 1 || mod <= -1 ? Math.round(mod).toString().length - 1 : mod.toString().split(".")[1].replace(/([1-9])[1-9].*$/, "$1").length * -1;
                        var ten = Math.pow(10, pow);
                        axisDomain[axisDomain.length - 1] = last + ten;
                    }
                    var axisConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])({
                        domain: horizontal ? axisDomain : axisDomain.slice().reverse(),
                        duration: this._duration,
                        height: this._height,
                        labels: labels || ticks,
                        orient: this._orient,
                        padding: this._padding,
                        scale: this._scale === "log" ? "log" : "linear",
                        ticks: ticks,
                        width: this._width
                    }, this._axisConfig);
                    var labelConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])({
                        height: this["_".concat(height)] / 2,
                        width: this["_".concat(width)] / 2
                    }, this._labelConfig);
                    this._labelClass.config(labelConfig);
                    var labelData = [];
                    if (horizontal && this._labelMin) {
                        var labelCSS = {
                            "font-family": this._labelClass.fontFamily()(this._labelMin),
                            "font-size": this._labelClass.fontSize()(this._labelMin),
                            "font-weight": this._labelClass.fontWeight()(this._labelMin)
                        };
                        if (labelCSS["font-family"] instanceof Array) labelCSS["font-family"] = labelCSS["font-family"][0];
                        var labelMinWidth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWidth$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWidth$3e$__["textWidth"])(this._labelMin, labelCSS);
                        if (labelMinWidth && labelMinWidth < this["_".concat(width)] / 2) {
                            labelData.push(this._labelMin);
                            labelMinWidth += this._padding;
                            if (horizontal) offsets.x += labelMinWidth;
                            axisConfig[width] -= labelMinWidth;
                        }
                    }
                    if (horizontal && this._labelMax) {
                        var _labelCSS = {
                            "font-family": this._labelClass.fontFamily()(this._labelMax),
                            "font-size": this._labelClass.fontSize()(this._labelMax),
                            "font-weight": this._labelClass.fontWeight()(this._labelMax)
                        };
                        if (_labelCSS["font-family"] instanceof Array) _labelCSS["font-family"] = _labelCSS["font-family"][0];
                        var labelMaxWidth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$text$2f$es$2f$src$2f$textWidth$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__textWidth$3e$__["textWidth"])(this._labelMax, _labelCSS);
                        if (labelMaxWidth && labelMaxWidth < this["_".concat(width)] / 2) {
                            labelData.push(this._labelMax);
                            labelMaxWidth += this._padding;
                            if (!horizontal) offsets.y += labelMaxWidth;
                            axisConfig[width] -= labelMaxWidth;
                        }
                    }
                    this._axisTest.select((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-ColorScale-axisTest", {
                        enter: {
                            opacity: 0
                        },
                        parent: this._group
                    }).node()).config(axisConfig).duration(0).render();
                    var axisBounds = this._axisTest.outerBounds();
                    this._outerBounds[width] = this["_".concat(width)] - this._padding * 2;
                    this._outerBounds[height] = axisBounds[height] + this._size;
                    this._outerBounds[x] = this._padding;
                    this._outerBounds[y] = this._padding;
                    if (this._align === "middle") this._outerBounds[y] = (this["_".concat(height)] - this._outerBounds[height]) / 2;
                    else if (this._align === "end") this._outerBounds[y] = this["_".concat(height)] - this._padding - this._outerBounds[height];
                    var axisGroupOffset = this._outerBounds[y] + ([
                        "bottom",
                        "right"
                    ].includes(this._orient) ? this._size : 0) - (axisConfig.padding || this._axisClass.padding());
                    var transform = "translate(".concat(offsets.x + (horizontal ? 0 : axisGroupOffset), ", ").concat(offsets.y + (horizontal ? axisGroupOffset : 0), ")");
                    this._axisClass.select((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-ColorScale-axis", (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])(groupParams, {
                        condition: true,
                        enter: {
                            transform: transform
                        },
                        update: {
                            transform: transform
                        }
                    })).node()).config(axisConfig).align("start").render();
                    var axisScale = this._axisTest._getPosition.bind(this._axisTest);
                    var scaleRange = this._axisTest._getRange();
                    var defs = this._group.selectAll("defs").data([
                        0
                    ]);
                    var defsEnter = defs.enter().append("defs");
                    defsEnter.append("linearGradient").attr("id", "gradient-".concat(this._uuid));
                    defs = defsEnter.merge(defs);
                    defs.select("linearGradient").attr("".concat(x, "1"), horizontal ? "0%" : "100%").attr("".concat(x, "2"), horizontal ? "100%" : "0%").attr("".concat(y, "1"), "0%").attr("".concat(y, "2"), "0%");
                    var stops = defs.select("linearGradient").selectAll("stop").data(colors);
                    var scaleDomain = this._colorScale.domain();
                    var offsetScale = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$scale$2f$src$2f$linear$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__scaleLinear$3e$__["scaleLinear"])().domain(scaleRange).range(horizontal ? [
                        0,
                        100
                    ] : [
                        100,
                        0
                    ]);
                    stops.enter().append("stop").merge(stops).attr("offset", function(d, i) {
                        return "".concat(i <= scaleDomain.length - 1 ? offsetScale(axisScale(scaleDomain[i])) : 100, "%");
                    }).attr("stop-color", String);
                    /** determines the width of buckets */ var bucketWidth = function bucketWidth(d, i) {
                        var next = ticks[i + 1] || axisDomain[axisDomain.length - 1];
                        return Math.abs(axisScale(next) - axisScale(d));
                    };
                    var rectConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])((_assign = {
                        duration: this._duration,
                        fill: ticks ? function(d) {
                            return _this2._colorScale(d);
                        } : "url(#gradient-".concat(this._uuid, ")")
                    }, _defineProperty(_assign, x, ticks ? function(d, i) {
                        return axisScale(d) + bucketWidth(d, i) / 2 - ([
                            "left",
                            "right"
                        ].includes(_this2._orient) ? bucketWidth(d, i) : 0);
                    } : scaleRange[0] + (scaleRange[1] - scaleRange[0]) / 2 + offsets[x]), _defineProperty(_assign, y, this._outerBounds[y] + ([
                        "top",
                        "left"
                    ].includes(this._orient) ? axisBounds[height] : 0) + this._size / 2 + offsets[y]), _defineProperty(_assign, width, ticks ? bucketWidth : scaleRange[1] - scaleRange[0]), _defineProperty(_assign, height, this._size), _assign), this._rectConfig);
                    this._rectClass.data(ticks || [
                        0
                    ]).id(function(d, i) {
                        return i;
                    }).select(rectGroup.node()).config(rectConfig).render();
                    labelConfig.height = this._outerBounds[height];
                    labelConfig.width = this._outerBounds[width];
                    this._labelClass.config(labelConfig).data(labelData).select(labelGroup.node()).x(function(d) {
                        return d === _this2._labelMax ? rectConfig.x + rectConfig.width / 2 + _this2._padding : _this2._outerBounds.x;
                    }).y(function(d) {
                        return rectConfig.y - _this2._labelClass.fontSize()(d) / 2;
                    }).text(function(d) {
                        return d;
                    }).rotate(horizontal ? 0 : this._orient === "right" ? 90 : -90).render();
                } else {
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$elem$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__elem$3e$__["elem"])("g.d3plus-ColorScale-axis", Object.assign({
                        condition: gradient
                    }, groupParams));
                    var legendData = ticks.reduce(function(arr, tick, i) {
                        var label = _this2._bucketFormat.bind(_this2)(tick, i, ticks, allValues);
                        arr.push({
                            color: colors[i + 1],
                            id: label
                        });
                        return arr;
                    }, []);
                    if (!horizontal) legendData = legendData.reverse();
                    var legendConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])({
                        align: horizontal ? "center" : ({
                            start: "left",
                            middle: "center",
                            end: "right"
                        })[this._align],
                        direction: horizontal ? "row" : "column",
                        duration: this._duration,
                        height: this._height,
                        padding: this._padding,
                        shapeConfig: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])({
                            duration: this._duration
                        }, this._axisConfig.shapeConfig || {}),
                        title: this._axisConfig.title,
                        titleConfig: this._axisConfig.titleConfig || {},
                        width: this._width,
                        verticalAlign: horizontal ? ({
                            start: "top",
                            middle: "middle",
                            end: "bottom"
                        })[this._align] : "middle"
                    }, this._legendConfig);
                    this._legendClass.data(legendData).select(legendGroup.node()).config(legendConfig).render();
                    this._outerBounds = this._legendClass.outerBounds();
                }
                if (callback) setTimeout(callback, this._duration + 100);
                return this;
            }
        },
        {
            key: "axisConfig",
            value: function axisConfig(_) {
                return arguments.length ? (this._axisConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])(this._axisConfig, _), this) : this._axisConfig;
            }
        },
        {
            key: "align",
            value: function align(_) {
                return arguments.length ? (this._align = _, this) : this._align;
            }
        },
        {
            key: "buckets",
            value: function buckets(_) {
                return arguments.length ? (this._buckets = _, this) : this._buckets;
            }
        },
        {
            key: "bucketAxis",
            value: function bucketAxis(_) {
                return arguments.length ? (this._bucketAxis = _, this) : this._bucketAxis;
            }
        },
        {
            key: "bucketFormat",
            value: function bucketFormat(_) {
                return arguments.length ? (this._bucketFormat = _, this) : this._bucketFormat;
            }
        },
        {
            key: "bucketJoiner",
            value: function bucketJoiner(_) {
                return arguments.length ? (this._bucketJoiner = _, this) : this._bucketJoiner;
            }
        },
        {
            key: "centered",
            value: function centered(_) {
                return arguments.length ? (this._centered = _, this) : this._centered;
            }
        },
        {
            key: "color",
            value: function color(_) {
                return arguments.length ? (this._color = _, this) : this._color;
            }
        },
        {
            key: "colorMax",
            value: function colorMax(_) {
                return arguments.length ? (this._colorMax = _, this) : this._colorMax;
            }
        },
        {
            key: "colorMid",
            value: function colorMid(_) {
                return arguments.length ? (this._colorMid = _, this) : this._colorMid;
            }
        },
        {
            key: "colorMin",
            value: function colorMin(_) {
                return arguments.length ? (this._colorMin = _, this) : this._colorMin;
            }
        },
        {
            key: "data",
            value: function data(_) {
                return arguments.length ? (this._data = _, this) : this._data;
            }
        },
        {
            key: "domain",
            value: function domain(_) {
                return arguments.length ? (this._domain = _, this) : this._domain;
            }
        },
        {
            key: "duration",
            value: function duration(_) {
                return arguments.length ? (this._duration = _, this) : this._duration;
            }
        },
        {
            key: "height",
            value: function height(_) {
                return arguments.length ? (this._height = _, this) : this._height;
            }
        },
        {
            key: "labelConfig",
            value: function labelConfig(_) {
                return arguments.length ? (this._labelConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])(this._labelConfig, _), this) : this._labelConfig;
            }
        },
        {
            key: "labelMin",
            value: function labelMin(_) {
                return arguments.length ? (this._labelMin = _, this) : this._labelMin;
            }
        },
        {
            key: "labelMax",
            value: function labelMax(_) {
                return arguments.length ? (this._labelMax = _, this) : this._labelMax;
            }
        },
        {
            key: "legendConfig",
            value: function legendConfig(_) {
                return arguments.length ? (this._legendConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])(this._legendConfig, _), this) : this._legendConfig;
            }
        },
        {
            key: "midpoint",
            value: function midpoint(_) {
                return arguments.length ? (this._midpoint = _, this) : this._midpoint;
            }
        },
        {
            key: "orient",
            value: function orient(_) {
                return arguments.length ? (this._orient = _, this) : this._orient;
            }
        },
        {
            key: "outerBounds",
            value: function outerBounds() {
                return this._outerBounds;
            }
        },
        {
            key: "padding",
            value: function padding(_) {
                return arguments.length ? (this._padding = _, this) : this._padding;
            }
        },
        {
            key: "rectConfig",
            value: function rectConfig(_) {
                return arguments.length ? (this._rectConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$assign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__assign$3e$__["assign"])(this._rectConfig, _), this) : this._rectConfig;
            }
        },
        {
            key: "scale",
            value: function scale(_) {
                return arguments.length ? (this._scale = _, this) : this._scale;
            }
        },
        {
            key: "select",
            value: function select(_) {
                return arguments.length ? (this._select = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3$2d$selection$2f$src$2f$select$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__select$3e$__["select"])(_), this) : this._select;
            }
        },
        {
            key: "size",
            value: function size(_) {
                return arguments.length ? (this._size = _, this) : this._size;
            }
        },
        {
            key: "value",
            value: function value(_) {
                return arguments.length ? (this._value = typeof _ === "function" ? _ : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$constant$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__constant$3e$__["constant"])(_), this) : this._value;
            }
        },
        {
            key: "width",
            value: function width(_) {
                return arguments.length ? (this._width = _, this) : this._width;
            }
        }
    ]);
    return ColorScale;
}(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$common$2f$es$2f$src$2f$BaseClass$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__BaseClass$3e$__["BaseClass"]);
;
}),
"[project]/node_modules/d3plus-legend/es/src/ColorScale.js [app-ssr] (ecmascript) <export default as ColorScale>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ColorScale",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$ColorScale$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$ColorScale$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/es/src/ColorScale.js [app-ssr] (ecmascript)");
}),
"[project]/node_modules/d3plus-legend/es/src/Legend.js [app-ssr] (ecmascript) <export default as Legend>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Legend",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$Legend$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$d3plus$2d$legend$2f$es$2f$src$2f$Legend$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/d3plus-legend/es/src/Legend.js [app-ssr] (ecmascript)");
}),
];

//# sourceMappingURL=node_modules_d3plus-legend_b4476f38._.js.map